var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.symbolCounter_=0;$jscomp.Symbol=function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+$jscomp.symbolCounter_++};
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,b){$jscomp.initSymbolIterator();a instanceof String&&(a+="");var c=0,d={next:function(){if(c<a.length){var e=c++;return{value:b(e,a[e]),done:!1}}d.next=function(){return{done:!0,value:void 0}};return d.next()}};d[Symbol.iterator]=function(){return d};return d};
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.keys",function(a){return a?a:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
var menuState,global_moveCount,standby,you,yourName,opponents=[],socket,isGhost,ghostFlow,inGame=!1,showWinState=!1,player=!1,emptyColor="#d5ccbd",priorColorList=[],audioEnabled=!0,gameTimer,debounce,colors={preference:"server",server:["",""],client:["",""]},hoverAudio=new Audio("sfx/hover.ogg"),moveAudio=new Audio("sfx/move3.ogg"),collisionAudio=new Audio("sfx/collision3.ogg"),beepAudio=new Audio("sfx/beep.ogg"),newgameAudio=new Audio("sfx/newgame.ogg"),forfeitAudio=new Audio("sfx/forfeit.ogg"),
drawgameAudio=new Audio("sfx/drawgame.ogg"),youwinAudio=new Audio("sfx/youwin.ogg"),gameoverAudio=new Audio("sfx/gameover.ogg"),drawacceptedAudio=new Audio("sfx/drawaccepted.ogg"),connectAudio=new Audio("sfx/connect.ogg"),disconnectedAudio=new Audio("sfx/disconnected.ogg"),opponentdisconnectedAudio=new Audio("sfx/opponentdisconnected.ogg"),timeoutAudio=new Audio("sfx/timeover.ogg"),detonateAudio=new Audio("sfx/detonate2.ogg");
function buildBoard(a,b){$("#board").empty();for(var c=0;c<a;c++){for(var d='\x3cdiv class\x3d"board_row"\x3e',e=0;e<b;e++)d+='\x3cdiv id\x3d"x'+(e+1)+"y"+(c+1)+'" class\x3d"block empty"\x3e\x3c/div\x3e';d+="\x3c/div\x3e";$("#board").append(d)}sizeBoard(a,b)}function resizeFunction(){sidebarsResize();0<$("#menuContainer").length&&menuResize();0<$("#board").length&&sizeBoard();if(0<$("#blockListEditor").length){var a=hSpace();$("#blockListEditor").css("width",a)}}
function sidebarsResize(){if(1450<$(window).width()){var a=222+($(window).width()-1450)/3;300<a&&(a=300)}else a=222;$("#chatPanel").css("width",a+"px");$("#leaderboard").css("width",a+"px")}
function sizeBoard(){var a=[];$(".board_row").map(function(b){a[b]=$(this).children().length});var b=Math.max.apply(Math,a),c=$(".board_row").length,d=getBlockSize(c,b);b=b*d+"px";c=c*d+"px";$("#board").css("width",b);$("#board").css("height",c);$(".board_row").css("height",d);$(".block").css("width",d);$(".block").css("height",d)}function hSpace(){var a=$(window).width();$("#chatPanel").is(":visible")&&(a-=$("#chatPanel").width());return a}
function vSpace(){return $(window).height()-38-$("#menuContainer").height()-10}function getBlockSize(a,b){var c=hSpace(),d=vSpace();return b/a>c/d?Math.floor(c/b):Math.floor(d/a)}
function buildMenu(a){$("#menu").remove();$("#menuContainer").append('\x3cdiv id\x3d"menu"\x3e\x3c/div\x3e');var b='\x3cdiv class\x3d"menu_row"\x3e';var c=0,d=Math.floor(Object.keys(a).length/2),e;for(e in a){c++;c>d&&(d=9001,b+='\x3c/div\x3e\x3cdiv class\x3d"menu_row"\x3e');b+='\x3cdiv class\x3d"menu_block';0==a[e].ammo&&(b+=" disabled nohover noammo");var f=null!==a[e].ammo&&"inf"!==a[e].ammo?'\x3cdiv class\x3d"ammo" id\x3d"'+e+'-ammo"\x3e'+a[e].ammo+"\x3c/div\x3e":"";var h=getSVG8by8(e);b+='" id\x3d"'+
e+'" \x3e'+f+h+"\x3c/div\x3e"}b+="\x3c/div\x3e";$("#menu").append(b);menuResize()}function menuResize(){var a=hSpace(),b=[];$(".menu_row").map(function(a){b[a]=$(this).children().length});var c=Math.max.apply(Math,b);a=.5*Math.floor(a/c)-10;75<a&&(a=75);$(".menu_block").css("height",a);$(".menu_block").css("width",a)}function menuHideBlocksAndResize(){$(".menu_block.disabled").addClass("nohover").css("opacity",0);menuResize()}
function renderBoard(a){for(var b=0;b<priorColorList.length;b++)$(".block").removeClass(priorColorList[b]);$.each(a,function(a,b){updateBlock(b.x+1,b.y+1,b.type,b.possessionDisplayName,b.moveNum,b.origin,b.color,b.duration,b.history,b.originColor,b.possession,b.possessionColorSpread)})}
function getSVG8by8(a,b){var c="";if("blank"!==a){c+='\x3csvg version\x3d"1.2" baseProfile\x3d"tiny" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink" xmlns:a\x3d"http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/" x\x3d"0px" y\x3d"0px" width\x3d"80px" height\x3d"80px" viewBox\x3d"0 0 80 80" xml:space\x3d"preserve"\x3e\x3cdefs\x3e\x3c/defs\x3e';"circle"==a?c+='\x3ccircle fill\x3d"none" class\x3d"oShape" stroke\x3d"#000000" stroke-width\x3d"5" cx\x3d"40" cy\x3d"40" r\x3d"30"/\x3e':
"base"==a?c+='\x3cpolygon class\x3d"shape" points\x3d"62.5,45 62.499,34.999 52.071,35 59.445,27.625 52.374,20.555 44.999,27.93 44.999,17.5 35,17.5 35,27.929 27.625,20.555 20.555,27.625 27.928,35 17.5,35 17.5,45 27.929,45 20.555,52.374 27.625,59.445 35,52.072 34.999,62.499 45,62.5 44.999,52.07 52.374,59.445 59.445,52.374 52.071,45 "/\x3e\x3ccircle class\x3d"jewel" cx\x3d"40" cy\x3d"40" r\x3d"7.5"/\x3e':"star"==a?c+='\x3cpolygon class\x3d"shape" points\x3d"62.5,45 62.499,34.999 52.071,35 59.445,27.625 52.374,20.555 44.999,27.93 44.999,17.5 35,17.5 35,27.929 27.625,20.555 20.555,27.625 27.928,35 17.5,35 17.5,45 27.929,45 20.555,52.374 27.625,59.445 35,52.072 34.999,62.499 45,62.5 44.999,52.07 52.374,59.445 59.445,52.374 52.071,45 "/\x3e':
"ostar"==a?c+='\x3ccircle fill\x3d"none" class\x3d"oShape" stroke\x3d"#000000" stroke-width\x3d"5" cx\x3d"40" cy\x3d"40" r\x3d"30"/\x3e\x3cpolygon class\x3d"shape" points\x3d"62.5,45 62.499,34.999 52.071,35 59.445,27.625 52.374,20.555 44.999,27.93 44.999,17.5 35,17.5 35,27.929 27.625,20.555 20.555,27.625 27.928,35 17.5,35 17.5,45 27.929,45 20.555,52.374 27.625,59.445 35,52.072 34.999,62.499 45,62.5 44.999,52.07 52.374,59.445 59.445,52.374 52.071,45 "/\x3e':"plus"==a?c+='\x3cpolygon class\x3d"shape" points\x3d"62.5,35 45,35 45,17.5 35,17.5 35,35 17.5,35 17.5,45 35,45 35,62.5 45,62.5 45,45 62.5,45 "/\x3e':
"oplus"==a?c+='\x3ccircle fill\x3d"none" class\x3d"oShape" stroke\x3d"#000000" stroke-width\x3d"5" cx\x3d"40" cy\x3d"40" r\x3d"30"/\x3e\x3cpolygon class\x3d"shape" points\x3d"62.5,35 45,35 45,17.5 35,17.5 35,35 17.5,35 17.5,45 35,45 35,62.5 45,62.5 45,45 62.5,45 "/\x3e':"cross"==a?c+='\x3cpolygon class\x3d"shape" points\x3d"59.445,52.374 47.071,40 59.445,27.625 52.374,20.555 40,32.929 27.625,20.555 20.555,27.625 32.929,40 20.555,52.374 27.625,59.445 40,47.071 52.374,59.445 "/\x3e':"ocross"==a?c+=
'\x3ccircle fill\x3d"none" class\x3d"oShape" stroke\x3d"#000000" stroke-width\x3d"5" cx\x3d"40" cy\x3d"40" r\x3d"30"/\x3e\x3cpolygon class\x3d"shape" points\x3d"59.445,52.374 47.071,40 59.445,27.625 52.374,20.555 40,32.929 27.625,20.555 20.555,27.625 32.929,40 20.555,52.374 27.625,59.445 40,47.071 52.374,59.445 "/\x3e':"arrow1"==a?c+='\x3cpolygon class\x3d"shape" points\x3d"22.42,57.58 46.762,52.419 40,47.071 59.445,27.626 52.374,20.555 32.929,40 27.582,33.238 "/\x3e':"arrow11"==a?c+='\x3ccircle fill\x3d"none" class\x3d"oShape" stroke\x3d"#000000" stroke-width\x3d"5" cx\x3d"40" cy\x3d"40" r\x3d"30"/\x3e\x3cpolygon class\x3d"shape" points\x3d"22.42,57.58 46.762,52.419 40,47.071 59.445,27.626 52.374,20.555 32.929,40 27.582,33.238 "/\x3e':
"arrow2"==a?c+='\x3cpolygon class\x3d"shape" points\x3d"40,64.861 53.563,44 45,45 45,17.5 35,17.5 35,45 26.438,44 "/\x3e':"arrow22"==a?c+='\x3ccircle fill\x3d"none" class\x3d"oShape" stroke\x3d"#000000" stroke-width\x3d"5" cx\x3d"40" cy\x3d"40" r\x3d"30"/\x3e\x3cpolygon class\x3d"shape" points\x3d"40,64.861 53.563,44 45,45 45,17.5 35,17.5 35,45 26.438,44 "/\x3e':"arrow3"==a?c+='\x3cpolygon class\x3d"shape" points\x3d"57.58,57.58 52.419,33.238 47.071,40 27.626,20.555 20.555,27.626 40,47.071 33.238,52.419 "/\x3e':
"arrow33"==a?c+='\x3ccircle fill\x3d"none" class\x3d"oShape" stroke\x3d"#000000" stroke-width\x3d"5" cx\x3d"40" cy\x3d"40" r\x3d"30"/\x3e\x3cpolygon class\x3d"shape" points\x3d"57.58,57.58 52.419,33.238 47.071,40 27.626,20.555 20.555,27.626 40,47.071 33.238,52.419 "/\x3e':"arrow4"==a?c+='\x3cpolygon class\x3d"shape" points\x3d"15.139,40 36,53.563 35,45 62.5,45 62.5,35 35,35 36,26.438 "/\x3e':"arrow44"==a?c+='\x3ccircle fill\x3d"none" class\x3d"oShape" stroke\x3d"#000000" stroke-width\x3d"5" cx\x3d"40" cy\x3d"40" r\x3d"30"/\x3e\x3cpolygon class\x3d"shape" points\x3d"15.139,40 36,53.563 35,45 62.5,45 62.5,35 35,35 36,26.438 "/\x3e':
"arrow6"==a?c+='\x3cpolygon class\x3d"shape" points\x3d"64.861,40 44,26.438 45,35 17.5,35 17.5,45 45,45 44,53.563 "/\x3e':"arrow66"==a?c+='\x3ccircle fill\x3d"none" class\x3d"oShape" stroke\x3d"#000000" stroke-width\x3d"5" cx\x3d"40" cy\x3d"40" r\x3d"30"/\x3e\x3cpolygon class\x3d"shape" points\x3d"64.861,40 44,26.438 45,35 17.5,35 17.5,45 45,45 44,53.563 "/\x3e':"arrow7"==a?c+='\x3cpolygon class\x3d"shape" points\x3d"22.42,22.42 27.582,46.762 32.929,40 52.374,59.445 59.445,52.374 40,32.929 46.762,27.582 "/\x3e':
"arrow77"==a?c+='\x3ccircle fill\x3d"none" class\x3d"oShape" stroke\x3d"#000000" stroke-width\x3d"5" cx\x3d"40" cy\x3d"40" r\x3d"30"/\x3e\x3cpolygon class\x3d"shape" points\x3d"22.42,22.42 27.582,46.762 32.929,40 52.374,59.445 59.445,52.374 40,32.929 46.762,27.582 "/\x3e':"arrow8"==a?c+='\x3cpolygon class\x3d"shape" points\x3d"40,15.139 26.438,36 35,35 35,62.5 45,62.5 45,35 53.563,36 "/\x3e':"arrow88"==a?c+='\x3ccircle fill\x3d"none" class\x3d"oShape" stroke\x3d"#000000" stroke-width\x3d"5" cx\x3d"40" cy\x3d"40" r\x3d"30"/\x3e\x3cpolygon class\x3d"shape" points\x3d"40,15.139 26.438,36 35,35 35,62.5 45,62.5 45,35 53.563,36 "/\x3e':
"arrow9"==a?c+='\x3cpolygon class\x3d"shape" points\x3d"57.58,22.42 33.238,27.581 40,32.929 20.555,52.374 27.626,59.445 47.071,40 52.419,46.762 "/\x3e':"arrow99"==a?c+='\x3ccircle fill\x3d"none" class\x3d"oShape" stroke\x3d"#000000" stroke-width\x3d"5" cx\x3d"40" cy\x3d"40" r\x3d"30"/\x3e\x3cpolygon class\x3d"shape" points\x3d"57.58,22.42 33.238,27.581 40,32.929 20.555,52.374 27.626,59.445 47.071,40 52.419,46.762 "/\x3e':"hbar"==a?c+='\x3crect class\x3d"shape" x\x3d"17.5" y\x3d"35" width\x3d"45" height\x3d"10"/\x3e':
"ohbar"==a?c+='\x3ccircle fill\x3d"none" class\x3d"oShape" stroke\x3d"#000000" stroke-width\x3d"5" cx\x3d"40" cy\x3d"40" r\x3d"30"/\x3e\x3crect class\x3d"shape" x\x3d"17.5" y\x3d"35" width\x3d"45" height\x3d"10"/\x3e':"vbar"==a?c+='\x3crect class\x3d"shape" x\x3d"35" y\x3d"17.5" width\x3d"10" height\x3d"45"/\x3e':"ovbar"==a?c+='\x3ccircle fill\x3d"none" class\x3d"oShape" stroke\x3d"#000000" stroke-width\x3d"5" cx\x3d"40" cy\x3d"40" r\x3d"30"/\x3e\x3crect class\x3d"shape" x\x3d"35" y\x3d"17.5" width\x3d"10" height\x3d"45"/\x3e':
"tlbr"==a?c+='\x3crect class\x3d"shape" x\x3d"17.5" y\x3d"35" transform\x3d"matrix(-0.7071 -0.7071 0.7071 -0.7071 40 96.5684)" width\x3d"45" height\x3d"10"/\x3e':"otlbr"==a?c+='\x3ccircle fill\x3d"none" class\x3d"oShape" stroke\x3d"#000000" stroke-width\x3d"5" cx\x3d"40" cy\x3d"40" r\x3d"30"/\x3e\x3crect class\x3d"shape" x\x3d"17.5" y\x3d"35" transform\x3d"matrix(-0.7071 -0.7071 0.7071 -0.7071 40 96.5684)" width\x3d"45" height\x3d"10"/\x3e':"bltr"==a?c+='\x3crect class\x3d"shape" x\x3d"17.5" y\x3d"34.999" transform\x3d"matrix(0.7071 -0.7071 0.7071 0.7071 -16.5682 40.0007)" width\x3d"45" height\x3d"10"/\x3e':
"obltr"==a?c+='\x3ccircle fill\x3d"none" class\x3d"oShape" stroke\x3d"#000000" stroke-width\x3d"5" cx\x3d"40" cy\x3d"40" r\x3d"30"/\x3e\x3crect class\x3d"shape" x\x3d"17.5" y\x3d"34.999" transform\x3d"matrix(0.7071 -0.7071 0.7071 0.7071 -16.5682 40.0007)" width\x3d"45" height\x3d"10"/\x3e':"ice"==a?c+='\x3crect fill\x3d"#B6E3FF" width\x3d"80" height\x3d"80"/\x3e\x3cpolygon fill\x3d"#CFF1FF" points\x3d"80,38.375 0,29.375 0,17.125 80,24 "/\x3e\x3cpolygon fill\x3d"#CFF1FF" points\x3d"80,65 0,49.375 0,37.125 80,50.5 "/\x3e\x3cpolygon fill\x3d"#FFFFFF" stroke\x3d"#B6E3FF" points\x3d"25.536,43.786 28.788,54.874 39.875,58.125 28.788,61.377 25.536,72.464 22.285,61.377 11.197,58.125 22.285,54.874 "/\x3e\x3cpolygon fill\x3d"#FFFFFF" stroke\x3d"#B6E3FF" points\x3d"53.339,11.322 56.591,22.41 67.678,25.661 56.591,28.913 53.339,40 50.088,28.913 39,25.661 50.088,22.41 "/\x3e':
"knight"==a?c+='\x3cpath d\x3d"M24.457,70.447c0,0,0.238-11.977,6.288-17.872C43.651,40,41.666,37.022,41.666,37.022s-4.964-1.986-11.694,4.082 c-6.729,6.066-11.692,8.493-12.134,3.86c0,0-6.288,0.221-5.957-3.86c0.331-4.082,13.127-19.084,14.893-24.159 c1.765-5.074,1.985-7.391,1.985-7.391s5.185,2.427,6.839,5.074c0,0,3.751-5.185,6.73-5.074l1.103,4.412 c0,0,12.024,1.765,16.988,14.672c4.964,12.907,4.964,41.809,4.964,41.809"/\x3e\x3cpath fill\x3d"#AD0000" d\x3d"M31.347,22.019c0,0-6.067,3.162-6.067,7.281c0,0.184,0,0.441,0,0.441s4.964-1.765,5.516-4.743"/\x3e':
"mine"==a?c+='\n\t\t\t\t\x3cg class\x3d"mineMetal"\x3e\n\t\t\t\t\t\x3ccircle cx\x3d"40" cy\x3d"40" r\x3d"4.2"/\x3e\n\t\t\t\t\t\x3cpath d\x3d"M59.7,49.5C59.7,49.5,59.7,49.5,59.7,49.5c0.2-0.4,0.3-0.7,0.5-1.1c0,0,0-0.1,0-0.1c0.1-0.3,0.3-0.6,0.4-1\n\t\t\t\t\tc0-0.1,0.1-0.2,0.1-0.3c0.1-0.3,0.2-0.5,0.3-0.8c0-0.1,0.1-0.3,0.1-0.4c0.1-0.2,0.1-0.5,0.2-0.7c0-0.1,0.1-0.3,0.1-0.4\n\t\t\t\t\tc0.1-0.2,0.1-0.5,0.1-0.7c0-0.1,0.1-0.3,0.1-0.4c0-0.2,0.1-0.5,0.1-0.7c0-0.1,0-0.3,0.1-0.4c0-0.3,0.1-0.5,0.1-0.8\n\t\t\t\t\tc0-0.1,0-0.3,0-0.4c0-0.4,0-0.8,0-1.2c0-0.4,0-0.8,0-1.2c0-0.1,0-0.3,0-0.4c0-0.3,0-0.5-0.1-0.8c0-0.1,0-0.3-0.1-0.4\n\t\t\t\t\tc0-0.3-0.1-0.5-0.1-0.8c0-0.1,0-0.3-0.1-0.4c0-0.3-0.1-0.5-0.2-0.8c0-0.1-0.1-0.3-0.1-0.4c-0.1-0.3-0.1-0.5-0.2-0.8\n\t\t\t\t\tc0-0.1-0.1-0.2-0.1-0.3c-0.1-0.3-0.2-0.6-0.3-0.9c0-0.1,0-0.1-0.1-0.2c-0.3-0.7-0.6-1.5-0.9-2.2c0,0,0,0,0,0\n\t\t\t\t\tc-2.5-5.1-6.9-9.1-12.3-11c0,0,0,0,0,0c-0.4-0.1-0.7-0.2-1.1-0.4c-0.1,0-0.2,0-0.2-0.1c-0.3-0.1-0.6-0.2-0.9-0.2\n\t\t\t\t\tc-0.1,0-0.2-0.1-0.3-0.1c-0.3-0.1-0.5-0.1-0.8-0.2c-0.1,0-0.3,0-0.4-0.1c-0.3,0-0.5-0.1-0.8-0.1c-0.1,0-0.3,0-0.4-0.1\n\t\t\t\t\tc-0.3,0-0.6-0.1-0.8-0.1c-0.1,0-0.2,0-0.4,0c-0.4,0-0.8,0-1.2,0c-0.4,0-0.8,0-1.2,0c-0.1,0-0.3,0-0.4,0c-0.3,0-0.5,0-0.8,0.1\n\t\t\t\t\tc-0.1,0-0.3,0-0.4,0.1c-0.2,0-0.5,0.1-0.7,0.1c-0.1,0-0.3,0.1-0.4,0.1c-0.2,0-0.5,0.1-0.7,0.1c-0.1,0-0.3,0.1-0.4,0.1\n\t\t\t\t\tc-0.2,0.1-0.5,0.1-0.7,0.2c-0.1,0-0.3,0.1-0.4,0.1c-0.3,0.1-0.5,0.2-0.8,0.3c-0.1,0-0.2,0.1-0.3,0.1c-0.3,0.1-0.6,0.2-1,0.4\n\t\t\t\t\tc0,0-0.1,0-0.1,0c-6,2.5-10.6,7.6-12.5,13.9c0,0.1,0,0.1-0.1,0.2c-0.1,0.3-0.2,0.6-0.2,0.9c0,0.1,0,0.2-0.1,0.3\n\t\t\t\t\tc-0.1,0.3-0.1,0.6-0.2,0.8c0,0.1,0,0.3-0.1,0.4c0,0.3-0.1,0.5-0.1,0.8c0,0.1,0,0.3-0.1,0.4c0,0.3-0.1,0.6-0.1,0.8\n\t\t\t\t\tc0,0.1,0,0.2,0,0.4c0,0.4,0,0.8,0,1.2c0,0.4,0,0.8,0,1.2c0,0.1,0,0.2,0,0.4c0,0.3,0,0.6,0.1,0.8c0,0.1,0,0.3,0.1,0.4\n\t\t\t\t\tc0,0.3,0.1,0.5,0.1,0.8c0,0.1,0,0.3,0.1,0.4c0,0.3,0.1,0.5,0.2,0.8c0,0.1,0.1,0.2,0.1,0.3c0.1,0.3,0.1,0.6,0.2,0.9\n\t\t\t\t\tc0,0.1,0,0.2,0.1,0.2c0.1,0.4,0.2,0.7,0.4,1.1c0,0,0,0,0,0c1.9,5.4,5.9,9.8,11,12.3c0,0,0,0,0,0c0.7,0.3,1.4,0.7,2.2,0.9\n\t\t\t\t\tc0.1,0,0.1,0,0.2,0.1c0.3,0.1,0.6,0.2,0.9,0.3c0.1,0,0.2,0.1,0.3,0.1c0.3,0.1,0.5,0.1,0.8,0.2c0.1,0,0.3,0.1,0.4,0.1\n\t\t\t\t\tc0.3,0.1,0.5,0.1,0.8,0.2c0.1,0,0.3,0.1,0.4,0.1c0.3,0,0.5,0.1,0.8,0.1c0.1,0,0.3,0,0.4,0.1c0.3,0,0.5,0.1,0.8,0.1\n\t\t\t\t\tc0.1,0,0.3,0,0.4,0c0.4,0,0.8,0,1.2,0c0.4,0,0.8,0,1.2,0c0.1,0,0.2,0,0.4,0c0.3,0,0.6,0,0.8-0.1c0.1,0,0.3,0,0.4-0.1\n\t\t\t\t\tc0.3,0,0.5-0.1,0.8-0.1c0.1,0,0.3,0,0.4-0.1c0.3-0.1,0.6-0.1,0.8-0.2c0.1,0,0.2,0,0.3-0.1c0.3-0.1,0.6-0.2,0.9-0.2\n\t\t\t\t\tc0.1,0,0.1,0,0.2-0.1c1.2-0.4,2.3-0.8,3.4-1.3c0,0,0,0,0,0C54,57.4,57.5,53.9,59.7,49.5z M40,46.2c-3.4,0-6.2-2.8-6.2-6.2\n\t\t\t\t\ts2.8-6.2,6.2-6.2s6.2,2.8,6.2,6.2S43.4,46.2,40,46.2z"/\x3e\n\t\t\t\t\t\x3cpath fill\x3d"#1C1C1C" d\x3d"M18.9,51.1l-1,1c-1.6,1.6-1.6,4.1,0,5.7l4.4,4.4c1.6,1.6,4.1,1.6,5.7,0l1-1C24.7,58.9,21.2,55.4,18.9,51.1z "/\x3e\';\n\t\t\t\t\t\x3cpath fill\x3d"#1C1C1C" d\x3d"M61.1,29l1.3-1.3c1.6-1.6,1.6-4.1,0-5.7L58,17.7c-1.6-1.6-4.1-1.6-5.7,0l-1.3,1.3 C55.4,21.2,58.9,24.7,61.1,29z"/\x3e\';\n\t\t\t\t\t\x3cpath fill\x3d"#1C1C1C" d\x3d"M61.1,51c-2.2,4.3-5.7,7.8-10,10.1l1.1,1.1c1.6,1.6,4.1,1.6,5.7,0l4.4-4.4c1.6-1.6,1.6-4.1,0-5.7L61.1,51z" /\x3e\';\n\t\t\t\t\t\x3cpath fill\x3d"#1C1C1C" d\x3d"M18.9,28.9c2.3-4.3,5.8-7.8,10.1-10l-1.2-1.2c-1.6-1.6-4.1-1.6-5.7,0L17.8,22c-1.6,1.6-1.6,4.1,0,5.7 L18.9,28.9z"/\x3e\';\n\t\t\t\t\x3c/g\x3e\n\t\t\t\t\x3ccircle class\x3d"mineLights" cx\x3d"30" cy\x3d"30" r\x3d"2"/\x3e\n\t\t\t\t\x3ccircle class\x3d"mineLights" cx\x3d"50" cy\x3d"30" r\x3d"2"/\x3e\n\t\t\t\t\x3ccircle class\x3d"mineLights" cx\x3d"30" cy\x3d"50" r\x3d"2"/\x3e\n\t\t\t\t\x3ccircle class\x3d"mineLights" cx\x3d"50" cy\x3d"50" r\x3d"2"/\x3e\n\t\t\t\t':
"reclaim"==a&&(c+='\x3cpolygon fill\x3d"#E3FFE1" points\x3d"13.2,21.3 15.1,27.8 21.5,29.7 15.1,31.6 13.2,38 11.3,31.6 4.8,29.7 11.3,27.8 \t"/\x3e\n\t\t\t\x3cpolygon fill\x3d"#E3FFE1" points\x3d"40.8,60 42.7,66.4 49.2,68.3 42.7,70.2 40.8,76.7 38.9,70.2 32.5,68.3 38.9,66.4 \t"/\x3e\n\t\t\t\x3cpolygon fill\x3d"#E3FFE1" points\x3d"64.5,37.2 66.3,43.6 72.8,45.5 66.3,47.4 64.5,53.8 62.6,47.4 56.1,45.5 62.6,43.6 \t"/\x3e\n\t\t\t\x3cpolygon fill\x3d"#E3FFE1" points\x3d"62.7,11.2 64.6,17.6 71,19.5 64.6,21.4 62.7,27.8 60.8,21.4 54.3,19.5 60.8,17.6 \t"/\x3e\n\t\t\t\x3cpolygon fill\x3d"#E3FFE1" points\x3d"32.5,3.8 34.4,10.3 40.8,12.2 34.4,14.1 32.5,20.5 30.6,14.1 24.1,12.2 30.6,10.3 \t"/\x3e\n\t\t\t\x3cpolygon fill\x3d"#E3FFE1" points\x3d"15.5,50.3 17.4,56.8 23.9,58.7 17.4,60.6 15.5,67 13.7,60.6 7.2,58.7 13.7,56.8 \t"/\x3e\n\t\t\t\x3cpath fill\x3d"#006616" d\x3d"M45.5,62.8l-0.4-0.6c-0.5-0.8-1.3-2.7-3.1-10.3c-1.1-5-2.6-5.8-5.7-5.9h-1.6v16.8H22.6V18.3l1-0.2\n\t\t\tc3.5-0.6,8.3-0.9,13.1-0.9c6.9,0,11.4,1.1,14.6,3.6c2.9,2.3,4.4,5.7,4.4,9.9c0,5-2.9,8.7-6.3,10.7c2.6,2,3.7,5.2,4.4,7.6\n\t\t\tc0.4,1.3,0.7,2.7,1.1,4c0.9,3.3,1.8,6.7,2.3,7.8l0.9,1.8H45.5z M37.2,36.5c4,0,6.4-1.8,6.4-4.9c0-3.1-2-4.6-5.9-4.7\n\t\t\tc-1.2,0-2.2,0.1-3.1,0.1v9.4H37.2z"/\x3e\n\t\t\t\x3cpath fill\x3d"#B3FFC1" d\x3d"M36.7,18.5c6.3,0,10.8,1,13.8,3.4c2.5,2,3.9,5,3.9,8.9c0,5.4-3.9,9.2-7.5,10.5v0.2c3,1.2,4.6,4.1,5.7,8\n\t\t\tc1.3,4.8,2.7,10.4,3.5,12h-9.9c-0.7-1.2-1.7-4.7-3-9.9c-1.1-5.3-3-6.8-6.9-6.8h-2.9v16.8h-9.6V19.4C27,18.9,31.6,18.5,36.7,18.5\n\t\t\t M33.4,37.8h3.8c4.8,0,7.7-2.4,7.7-6.1c0-3.9-2.7-5.9-7.1-6c-2.3,0-3.7,0.2-4.4,0.3V37.8 M36.7,16c-4.8,0-9.7,0.3-13.3,0.9\n\t\t\tl-2.1,0.3v2.1v42.1V64h2.5h9.6h2.5v-2.5V47.2h0.4c2.3,0,3.5,0.3,4.5,4.9l0,0l0,0c1.8,7.6,2.7,9.7,3.2,10.6l0.7,1.2h1.4h9.9h4\n\t\t\tl-1.8-3.6c-0.5-1-1.4-4.5-2.2-7.5c-0.4-1.3-0.7-2.7-1.1-4.1c-0.6-2.2-1.6-5-3.6-7.2c3.1-2.3,5.5-6.1,5.5-10.9\n\t\t\tc0-4.6-1.7-8.3-4.9-10.9C48.7,17.2,44,16,36.7,16L36.7,16z M35.9,28.2c0.6,0,1.2,0,1.9,0c4.6,0.1,4.6,2.4,4.6,3.5\n\t\t\tc0,3.2-3.2,3.6-5.2,3.6h-1.3V28.2L35.9,28.2z"/\x3e');
c+='\x3cpath class\x3d"border" d\x3d"M80,80H0V0h80V80L80,80z M2.5,77.5h75v-75h-75V77.5L2.5,77.5z"/\x3e';if("mine"!==a||"board"!==b)c+='\x3crect class\x3d"border2" x\x3d"2.5" y\x3d"2.5" fill\x3d"none" stroke-width\x3d"1.5" width\x3d"75" height\x3d"75"/\x3e';c+="\x3c/svg\x3e"}return c}
function updateBlock(a,b,c,d,e,f,h,n,q,r,l,k){var g="#x"+a+"y"+b;"blank"==c?$(g).empty().addClass("empty").css("background-color",""):"blockade"==c?($(g).empty().removeClass("empty").css("background-color","#000000"),!1!==n&&"undefined"!==typeof e&&0<e&&$(g).append('\x3cspan class\x3d"duration"\x3e'+n+"\x3c/span\x3e")):"blank"!=c&&(n=getSVG8by8(c,"board"),"mine"!==c?$(g).html(n).removeClass("empty"):$(g).html(n).addClass("empty"),"ice"==c&&$(g).addClass("ice"),"undefined"!=typeof l&&(0==l.length&&
"mine"!==c?$(g).css("background-color",ColorLuminance(h,.1)):$(g).css("background-color","")));$(g).data("blockType",c);$(g).data("possession",l);$(g).data("possessionDisplayName",d);$(g).data("moveNum",e);$(g).data("x",a);$(g).data("y",b);$(g).data("history",q);$(g).data("possessionColorSpread",k);if("undefined"!==typeof h){$(g).data("possessionColor",h);$(g).removeClass("prior-collision");$(g).removeClass(function(a,b){return(b.match(/\bcolor-\S+/g)||[]).join(" ")});1>$("#color-"+h.substr(1)).length&&
addNewStyle(h);if("undefined"!==typeof k)if(0<k.length)for(a=0;a<k.length;a++){var m="color-"+k[a].color.substr(1),p=k[a].color;$(g).addClass("color-d5ccbd");"blank"!==c&&$(g).css("background-color",ColorLuminance(emptyColor,.1));setTimeout(function(){$(g).removeClass("color-d5ccbd");var a=mix(emptyColor,p,60);$(g).css("background-color",a);$(g).addClass(m);setTimeout(function(){$(g).css("background-color","")},100)},100*(k[a].layer+1)+100)}else $(g).addClass("color-"+h.substr(1));else $(g).addClass("color-"+
h.substr(1));e==global_moveCount&&0<global_moveCount&&0==showWinState&&("collision"==f||"collision fade"==f?$(g).addClass("prior-collision"):$(g).addClass("prior-"+r.substr(1)))}}function obtainID(a){var b=$(a).attr("id"),c=b.indexOf("y");a=parseInt(b.substr(1,c),10);b=parseInt(b.substr(c+1),10);return[a,b]}function get_pos(a,b,c){return(b-1)*c+a-1}
function highlight(a,b,c,d,e){var f=[];f=getMoves(c);$.each(f,function(c,f){c=a+f[0];f=b+f[1];1<=c&&c<=e&&1<=f&&f<=d&&$("#x"+c+"y"+f).addClass("highlighted")})}
function getMoves(a){var b={base:function(){return[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]]},star:function(){return[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]]},ostar:function(){return[[-2,-2],[0,-2],[2,-2],[-2,0],[2,0],[-2,2],[0,2],[2,2]]},p1:function(){return[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]]},p2:function(){return[[-1,-1],[0,-1],[1,-1],[-1,0],[1,0],[-1,1],[0,1],[1,1]]},plus:function(){return[[0,-1],[-1,0],[1,0],[0,1]]},oplus:function(){return[[0,-2],
[-2,0],[2,0],[0,2]]},cross:function(){return[[-1,-1],[1,-1],[-1,1],[1,1]]},ocross:function(){return[[-2,-2],[2,-2],[-2,2],[2,2]]},hbar:function(){return[[-1,0],[1,0]]},ohbar:function(){return[[-2,0],[2,0]]},vbar:function(){return[[0,-1],[0,1]]},ovbar:function(){return[[0,-2],[0,2]]},tlbr:function(){return[[-1,-1],[1,1]]},otlbr:function(){return[[-2,-2],[2,2]]},bltr:function(){return[[-1,1],[1,-1]]},obltr:function(){return[[-2,2],[2,-2]]},arrow1:function(){return[[-1,1]]},arrow11:function(){return[[-2,
2]]},arrow2:function(){return[[0,1]]},arrow22:function(){return[[0,2]]},arrow3:function(){return[[1,1]]},arrow33:function(){return[[2,2]]},arrow4:function(){return[[-1,0]]},arrow44:function(){return[[-2,0]]},arrow6:function(){return[[1,0]]},arrow66:function(){return[[2,0]]},arrow7:function(){return[[-1,-1]]},arrow77:function(){return[[-2,-2]]},arrow8:function(){return[[0,-1]]},arrow88:function(){return[[0,-2]]},arrow9:function(){return[[1,-1]]},arrow99:function(){return[[2,-2]]},blockade:function(){return[[]]},
blank:function(){return[[]]},ice:function(){return[[]]},knight:function(){return[[1,2],[2,1],[-1,2],[2,-1],[1,-2],[-2,1],[-1,-2],[-2,-1]]},mine:function(){return[[]]},reclaim:function(){return[[]]}};if("function"!==typeof b[a])throw console.log("SHIT! SHIT!"),Error("Invalid action.");return b[a]()}
function getCircleType(a){return"star"==a?"ostar":"plus"==a?"oplus":"cross"==a?"ocross":"hbar"==a?"ohbar":"vbar"==a?"ovbar":"tlbr"==a?"otlbr":"bltr"==a?"obltr":"arrow1"==a?"arrow11":"arrow2"==a?"arrow22":"arrow3"==a?"arrow33":"arrow4"==a?"arrow44":"arrow6"==a?"arrow66":"arrow7"==a?"arrow77":"arrow8"==a?"arrow88":"arrow9"==a?"arrow99":!1}
function joinGame(a,b,c,d,e,f,h,n){$(".menu_block").removeClass("nohover");opponents=[];if(function(){for(var a in d)if(a==you)return!0;return!1}()){var q=function(){$("#x"+l+"y"+k).removeClass("prior-"+d[you].color.substr(1)).removeClass("highlighted");$(".menu_block").addClass("disabled");menuState=!1};$(".block").removeClass("nohover");player=!0;for(var r in d)r!=you&&opponents.push(r);"practice"===n?0===$("#reset").length&&($("#gameButtons").prepend('\x3cdiv class\x3d"buttonStyle" id\x3d"reset"\x3eReset\x3c/div\x3e'),
$("#reset").on("click",function(){1<global_moveCount&&socket.emit("practice reset")})):($("#gameButtons").prepend('\x3cdiv class\x3d"buttonStyle" id\x3d"forfeit"\x3eForfeit\x3c/div\x3e'),$("#forfeit").on("click",function(){socket.emit("forfeit")}));var l=!1,k=!1,g=!1,m,p="blank";$(document).off("click");$(document).on("click",function(a){0==standby&&1==menuState&&0===$(a.target).closest(".block").length&&0===$(a.target).closest(".menu_block:not(.nohover)").length&&q()});$(".block").off();$(".block").on("click",
function(){if(0==standby){g=obtainID($(this));l=g[0];k=g[1];$(".highlighted").removeClass("highlighted");$(this).addClass("highlighted");$(".prior-collision").removeClass("prior-collision");if($(this).hasClass("prior-"+d[you].color.substr(1)))$(".prior-"+d[you].color.substr(1)).removeClass("prior-"+d[you].color.substr(1)).removeClass("highlighted"),$(".menu_block").addClass("disabled"),menuState=!1;else if($(".prior-"+d[you].color.substr(1)).removeClass("prior-"+d[you].color.substr(1)),$(this).addClass("prior-"+
d[you].color.substr(1)),$(this).hasClass("empty"))$(".menu_block:not(.nohover)").removeClass("disabled"),$("#circle").addClass("disabled"),$("#reclaim").addClass("disabled"),menuState=!0;else{p=$("#x"+l+"y"+k).data("blockType");$(".menu_block").addClass("disabled");menuState=!0;0!=getCircleType(p)&&$("#circle:not(.nohover)").removeClass("disabled");var a=$("#x"+l+"y"+k).data("possession");1==a.length&&a[0]==you&&"base"!==p&&"blockade"!==p&&$("#reclaim:not(.nohover)").removeClass("disabled")}for(a=
0;a<opponents.length;a++)$(".prior-"+d[opponents[a]].color.substr(1)).removeClass("prior-"+d[opponents[a]].color.substr(1))}});$(".block").hover(function(){if(0==standby){var a=obtainID($(this)),b=a[0];a=a[1];m=$(this).data("blockType");highlight(b,a,m,e,f)}},function(){0==standby&&$(".highlighted").removeClass("highlighted")});$("#menuContainer").on({mouseenter:function(){if(!$(this).hasClass("disabled")&&0!=menuState){m=$(this).attr("id");p=$("#x"+l+"y"+k).data("blockType");get_pos(l,k,f);"circle"==
m&&(m=getCircleType(p));updateBlock(l,k,m);highlight(l,k,m,e,f);var a=new Audio("sfx/hover.ogg");audioEnabled&&a.play()}},mouseleave:function(){$(this).hasClass("disabled")||0==menuState||(updateBlock(l,k,p),$(".highlighted").not("#x"+l+"y"+k).removeClass("highlighted"))}},".menu_block:not(.nohover)");$("#menuContainer").on("click",".menu_block:not(.nohover)",function(){if(1==menuState&&0==standby)if($(this).hasClass("disabled"))q();else{renderStandby();m=$(this).attr("id");if(0!=$(this).find(".ammo").length){var a=
parseInt($("#"+m+"-ammo").html());a--;$("#"+m+"-ammo").html(a);0==a&&$(this).addClass("nohover disabled noammo")}socket.emit("attempt move",l,k,m,global_moveCount)}});1>opponents.length?standby=!1:d[you].onStandBy?(standby=!0,a=get_pos(tempBlock[0],tempBlock[1],numCols),updateBlock(tempBlock[0],tempBlock[1],tempBlock[2],void 0,void 0,boardData[a].randInt),renderStandby()):standby=opponents[0].onStandBy?!0:!1}else renderExitButton(),$(".block").addClass("nohover");menuState=!1}
function timeLimitUpdate(a){0==a?$("#timeLimit").html("\x26infin;"):$("#timeLimit").html(a);log('\x3cspan class\x3d"dimMsg"\x3etime limit set to '+$("#timeLimit").html())}
function collisionUpdate(a){if("undefined"!==typeof a)if(!0===a.permanence)$("#collisionSetting").html("Permanent"),log('\x3cspan class\x3d"dimMsg"\x3epermanent collisions\x3c/span\x3e');else{var b="s";1===a.permanence&&(b="");$("#collisionSetting").html('\x3cspan class\x3d"collisionTurnCount"\x3e'+a.permanence.toString()+"\x3c/span\x3e Turn"+b);log('\x3cspan class\x3d"dimMsg"\x3ecollisions last '+a.permanence.toString()+" turn"+b)}}
function renderStandby(){standby=!0;$("#container").removeClass("timeWarning");$(".menu_block").addClass("disabled");$(".block").addClass("nohover").removeClass("highlighted").addClass("disabled");menuState=!1}function drawOffered(a){$("#offerDraw").off();$("#offerDraw").addClass("offered");$("#offerDraw").html("Accept Draw");$("#offerDraw").on("click",function(){cleanup(3,"drawAccepted");socket.emit("draw accepted",a)})}
function cleanup(a,b){$("#container").removeClass("timeWarning");clearInterval(gameTimer);1<a.length?audioEnabled&&drawgameAudio.play():a[0]==you?audioEnabled&&youwinAudio.play():audioEnabled&&gameoverAudio.play();player&&"dc"!==b&&"practice"!==b&&($('\x3cdiv class\x3d"buttonStyle" id\x3d"rematch"\x3e\x3cspan\x3eRematch\x3c/span\x3e\x3c/div\x3e').insertBefore("#toggleAudio"),$("#rematch").on("click",function(){socket.emit("yes rematch");$("#rematch").off();$("#rematch \x3e span").text("Offered Rematch").addClass("blinkText")}));
$(".block","#board").addClass("disabled").off();for(a=0;a<priorColorList.length;a++)$(".block").removeClass(priorColorList[a]);$(".highlighted").removeClass("highlighted");$(".menu_block").addClass("disabled");$("#offerDraw").remove();$("#forfeit").remove();$(".moveStatus").remove();$("#timer").remove();$(".waitMsg").parent().remove();renderExitButton();var c=debounce=Math.random();ghostFlow&&setTimeout(function(){debounce==c&&exitGame()},6E4)}
function readableBlockName(a){var b={base:"source",ostar:"jump star",plus:"+",oplus:"jump +",cross:"x",ocross:"jump x",ohbar:"jump hbar",ovbar:"jump vbar",otlbr:"jump tlbr",obltr:"jump bltr",arrow1:"arrow1",arrow11:"jump arrow1",arrow2:"arrow2",arrow22:"jump arrow2",arrow3:"arrow3",arrow33:"jump arrow3",arrow4:"arrow4",arrow44:"jump arrow4",arrow6:"arrow6",arrow66:"jump arrow6",arrow7:"arrow7",arrow77:"jump arrow7",arrow8:"arrow8",arrow88:"jump arrow8",arrow9:"arrow9",arrow99:"jump arrow9",mine:"stealthy mine"};
return b.hasOwnProperty(a)?b[a]:a}
function blockHoverData(){$("#board").on({mouseenter:function(){var a=$(this).data("blockType");a=readableBlockName(a);var b=$(this).data("history"),c=$(this).data("possessionColor"),d=$(this).data("x"),e=$(this).data("y"),f=!0,h=$(this).data("possessionDisplayName");$(this).data("possessionColorSpread");"source"==a&&(a="undefined"!==typeof b[0]?'\x3cspan style\x3d"color: '+b[0].playerColor+';"\x3e'+b[0].playerDisplayName+"'s source\x3c/span\x3e":"unclaimed source",f=!1);d='\x3cdiv class\x3d"dimMsg"\x3ex: \x3cb\x3e'+
d+"\x3c/b\x3e,\x26ensp;y: \x3cb\x3e"+e+"\x3c/b\x3e\x3c/div\x3e"+('\x3cdiv style\x3d"font-weight: bold; color:white; font-size:15px;"\x3e'+a+"\x3c/div\x3e");f&&!1!==h&&"blockade"!==a&&(d+='\x3cdiv\x3epossessed by \x3cb style\x3d"color: '+c+'"\x3e'+h+"\x3c/b\x3e\x3c/div\x3e");if(f)for(a=0;a<b.length;a++)d+=b[a];$("#bottomInfo").append(d)},mouseleave:function(){$("#bottomInfo").html("")}},".block");$("#menuContainer").on({mouseenter:function(){var a=$(this).attr("id"),b=readableBlockName(a),c="";c=player?
c+("\x3cdiv\x3e"+yourName+"'s stockpile\x3c/div\x3e"):c+'\x3cdiv class\x3d"dimMsg"\x3estarting stockpile\x3c/div\x3e';c+='\x3cdiv style\x3d"font-weight: bold; color:white; font-size:15px;"\x3e'+b+"\x3c/div\x3e";0!=$(this).find(".ammo").length&&(a=parseInt($("#"+a+"-ammo").html()),c+="\x3cdiv\x3e\x3cb\x3e"+a+"\x3c/b\x3e remaining\x3c/div\x3e");$("#bottomInfo").append(c)},mouseleave:function(){$("#bottomInfo").html("")}},".menu_block")}
function renderExitButton(){0===$("#exit").length&&($("#gameButtons").prepend('\x3cdiv id\x3d"exit" class\x3d"buttonStyle"\x3eExit to Lobby\x3c/div\x3e'),$("#exit").on("click",function(){exitGame()}))}function exitGame(){$("#sidebar").empty();$("#container").removeClass("timeWarning");clearInterval(gameTimer);$(".waitMsg").parent().remove();showWinState=inGame=!1;socket.emit("exit to lobby")}
function showPath(a,b){var c,d;$.each(a,function(e,f){$(".block:eq("+f+")").removeClass("disabled").addClass("nohover");c=setTimeout(function(){1==showWinState?$(".block:eq("+f+")").addClass("prior-"+b.substr(1)):($(".block").removeClass("prior"+b.substr(1)),clearTimeout(c),clearTimeout(d))},500*e);d=setTimeout(function(){$(".block:eq("+f+")").removeClass("prior-"+b.substr(1));e==a.length-1&&(1==showWinState?showPath(a,b):(clearTimeout(c),clearTimeout(d)))},500*(e+1))})}
function ColorLuminance(a,b){a=String(a).replace(/[^0-9a-f]/gi,"");6>a.length&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]);b=b||0;var c="#",d;for(d=0;3>d;d++){var e=parseInt(a.substr(2*d,2),16);e=Math.round(Math.min(Math.max(0,e+e*b),255)).toString(16);c+=("00"+e).substr(e.length)}return c}
function mix(a,b,c){a=a.slice(1);b=b.slice(1);c="undefined"!==typeof c?c:50;for(var d="#",e=0;5>=e;e+=2){var f=parseInt(a.substr(e,2),16),h=parseInt(b.substr(e,2),16);for(f=Math.floor(h+c/100*(f-h)).toString(16);2>f.length;)f="0"+f;d+=f}return d}function updateStyles(a,b){var c=mix(a,b,50);updateStyle("p1color",a);updateStyle("p2color",b);updateStyle("mixedcolor",c)}
function updateStyle(a,b){$("#"+a).empty();var c="."+a+" { background-color: "+b+"; } "+("."+a+" svg .border { fill: "+ColorLuminance(b,-.65)+" }");c=c+("."+a+".empty svg .border { opacity: 0; }")+("."+a+" svg .border2 { stroke: "+ColorLuminance(b,.125)+" }");b!==emptyColor&&(c+="."+a+" svg .outline { fill: "+ColorLuminance(b,.125)+"; }",c+="."+a+" svg .jewel { fill: "+b+"; animation: jewel-"+b.substr(1)+" 1s infinite alternate ease-in-out; }",c+="@keyframes jewel-"+b.substr(1)+" { 0% { opacity: 0.2; } 100% { opacity: 1; } }");
var d=mix(b,emptyColor,55),e=ColorLuminance(b,-.09);c=c+("."+a+".empty { background-color: "+d+"; box-shadow: inset 0 0 0 1px "+e+";  }")+("."+a+":hover:not(.nohover):not(.disabled), ."+a+".highlighted { background-color: "+ColorLuminance(d,.125)+"; cursor:pointer; }");c+=".prior-"+b.substr(1)+"::before { animation: origin-"+b.substr(1)+' 0.25s infinite alternate; content:""; display: block; height: 100%; width: 100%; position: absolute; left: 0; top: 0; background-color: '+hex2rgba(mix(b,"#ffffff",
50),50)+"; box-shadow: inset 0 0 0 1px "+ColorLuminance(b,-.3)+", inset 0 0 0 3px "+b+"; }";priorColorList.push("prior-"+b.substr(1));c+="@keyframes origin-"+b.substr(1)+" { 0% { opacity: 0.2; } 40% { opacity: 0.25; } 60% { opacity: 0.95; } 100% { opacity: 1 } }";$("#"+a).append(c)}
function addNewStyle(a){var b="color-"+a.substr(1);$("head").append('\x3cstyle class\x3d"dynamicStyle" id\x3d"'+b+'"\x3e\x3c/style\x3e');var c=""+("."+b+" { background-color: "+a+"; } ")+("."+b+" svg .border { fill: "+ColorLuminance(a,-.65)+" }");c=c+("."+b+".empty svg .border { opacity: 0; }")+("."+b+" svg .border2 { stroke: "+ColorLuminance(a,.125)+" }");a!==emptyColor&&(c+="."+b+" svg .outline { fill: "+ColorLuminance(a,.125)+"; }",c+="."+b+" svg .jewel { fill: "+a+"; animation: jewel-"+a.substr(1)+
" 1s infinite alternate ease-in-out; }",c+="@keyframes jewel-"+a.substr(1)+" { 0% { opacity: 0.2; } 100% { opacity: 1; } }");var d=mix(a,emptyColor,55),e=ColorLuminance(a,-.09);c=c+("."+b+".empty { background-color: "+d+"; box-shadow: inset 0 0 0 1px "+e+";  }")+("."+b+":hover:not(.nohover):not(.disabled), ."+b+".highlighted { background-color: "+ColorLuminance(d,.125)+"; cursor:pointer; }");c+=".prior-"+a.substr(1)+"::before { animation: origin-"+a.substr(1)+' 0.25s infinite alternate; content:""; display: block; height: 100%; width: 100%; position: absolute; left: 0; top: 0; background-color: '+
hex2rgba(mix(a,"#ffffff",50),50)+"; box-shadow: inset 0 0 0 1px "+ColorLuminance(a,-.3)+", inset 0 0 0 3px "+a+"; }";priorColorList.push("prior-"+a.substr(1));c+="@keyframes origin-"+a.substr(1)+" { 0% { opacity: 0.2; } 40% { opacity: 0.25; } 60% { opacity: 0.95; } 100% { opacity: 1 } }";$("#"+b).append(c)}function hex2rgba(a,b){a=a.replace("#","");var c=parseInt(a.substring(0,2),16),d=parseInt(a.substring(2,4),16);a=parseInt(a.substring(4,6),16);return"rgba("+c+","+d+","+a+","+b/100+")"}
function renderRoomTitle(a){$("#sidebar").prepend('\x3cdiv id\x3d"roomTitle"\x3e\x3cspan\x3e'+a+"\x3c/span\x3e\x3c/div\x3e");$("body").append('\x3cspan id\x3d"titleWidth"\x3e'+a+"\x3c/span\x3e");a=$("#titleWidth").width();$("#titleWidth").remove();a=211/a;1>=a&&$("#roomTitle \x3e span").css("transform","scale("+a+",1)")}
function addHeadingOld(a,b,c,d){d=$(".block").width()*(d-1);$("#gameHead").append('\x3cdiv class\x3d"heading-'+a+'" style\x3d"left: '+d+"px; color: "+c+';"\x3e'+b+"\x3c/div\x3e");b=$(".heading-"+a).width()+40-$(".block").width();d-=b/2;$(".heading-"+a).css("left",d)}
function addHeading(a,b,c,d){var e="#playerRight";$("#playerLeft").is(":empty")&&(e="#playerLeft");a='\x3cdiv class\x3d"heading-'+a+'" style\x3d"color: '+c+';"\x3e'+b+' \x3cspan style\x3d"font-weight:normal; color:white;"\x3e';0<d&&(a+="("+d+")");a+="\x3c/span\x3e\x3c/div\x3e";$(e).append(a)}
function menuBlockEnableDisable(){$(".menu_block:not(.nohover)").on("click",function(){$(this).hasClass("disabled")?($(this).removeClass("disabled"),socket.emit("blocklist update",this.id,!0)):($(this).addClass("disabled"),socket.emit("blocklist update",this.id,!1))})}
function renderLeaderboard(a){for(var b=0;b<a.length;b++)$("#eloRank").append("\x3ctr\x3e\x3ctd\x3e"+(b+1)+'\x3c/td\x3e\x3ctd style\x3d"color:'+a[b].color+'"\x3e'+a[b].displayName+'\x3c/td\x3e\x3ctd class\x3d"alignRight"\x3e'+a[b].elo+"\x3c/td\x3e\x3c/tr\x3e")}
function renderGames(a){for(var b=0;b<a.length;b++){var c="#"+a[b].gameState,d='\x3cdiv class\x3d"lobbyGame" style\x3d"border: 2px '+a[b].creatorColor+' solid" data-gameid\x3d'+a[b].id+"\x3e";d+='\x3cspan class\x3d"WhoVsWho"\x3e\x3cb\x3e'+a[b].creator+"\x3c/b\x3e";0<a[b].creatorElo&&(d+="\x26ensp;("+a[b].creatorElo+")");"practice"===a[b].gameType?d+='\x26emsp;\x3cspan class\x3d"dimMsg"\x3e[practice room]\x3c/span\x3e':a[b].full&&(d+='\x26emsp;\x3cspan class\x3d"dimMsg"\x3evs\x3c/span\x3e\x26emsp;\x3cb\x3e'+
a[b].opponent+"\x3c/b\x3e",0<a[b].opponentElo&&(d+="\x26ensp;("+a[b].opponentElo+")"));d+="\x3c/span\x3e";"random"===a[b].gameType&&(d+='\x3cspan class\x3d"gameSettings"\x3eRandom\x3c/span\x3e');d+='\x3cdiv class\x3d"lobbyButtons"\x3e\x3cspan class\x3d"lobbyButton spectateGameButton"\x3eSpectate\x3c/span\x3e';0==isGhost&&"inprogress"!==a[b].gameState&&0==a[b].full&&(d+='\x3cspan class\x3d"lobbyButton joinGameButton"\x3ePlay\x3c/span\x3e');d+="\x3c/div\x3e\x3c/div\x3e";$(c).append(d)}$("#open").prepend('\x3cdiv class\x3d"lobbyLabel"\x3eopen games:\x3c/div\x3e');
$("#inprogress").prepend('\x3cdiv class\x3d"lobbyLabel"\x3ein progress:\x3c/div\x3e');if(0==isGhost)$(".joinGameButton").on("click",function(){var a=$(this).parent().parent().data("gameid");socket.emit("join game",a)});$(".spectateGameButton").on("click",function(){var a=$(this).parent().parent().data("gameid");socket.emit("join game",a,"spec")});var e=debounce=Math.random();ghostFlow&&setTimeout(function(){for(var b="none",c=-9999999,d=0;d<a.length;d++)("open"==a[d].gameState||"inprogress"==a[d].gameState)&&
a[d].full&&a[d].creatorElo+a[d].opponentElo>c&&a[d].creatorElo+a[d].opponentElo>c&&"practice"!==a[d].gameType&&(c=a[d].creatorElo+a[d].opponentElo,b=d);"none"!==b&&(debounce=e)&&socket.emit("join game",a[b].id,"spec")},3E3)}
function toggleAudioButton(){0==audioEnabled&&($(".audioOn").hide(),$(".audioOff").show());$("#toggleAudio").on("click",function(){audioEnabled?(audioEnabled=!1,log('\x3cspan class\x3d"dimMsg"\x3eAudio disabled.\x3c/span\x3e'),$(".audioOn").hide(),$(".audioOff").show()):(audioEnabled=!0,log('\x3cspan class\x3d"dimMsg"\x3eAudio enabled.\x3c/span\x3e'),moveAudio.play(),$(".audioOn").show(),$(".audioOff").hide())})}
function updateTimer(a,b){$("#container").removeClass("timeWarning");0==a?$("#timer").html("Turn \x3cb\x3e"+b+"\x3c/b\x3e, Time \x3cb\x3e\x26infin;\x3c/b\x3e"):($("#timer").html("Turn \x3cb\x3e"+b+"\x3c/b\x3e, Time \x3cb\x3e"+a+"\x3c/b\x3e"),clearInterval(gameTimer),gameTimer=setInterval(function(){a--;if(0==a)clearInterval(gameTimer);else if(10>=a&&0==standby){if($("#timer").html("Turn \x3cb\x3e"+b+'\x3c/b\x3e, Time \x3cb class\x3d"redMsg"\x3e'+a+"\x3c/b\x3e"),10==a&&$("#container").addClass("timeWarning"),
audioEnabled){var c=new Audio("sfx/beep.ogg");c.volume=1-a/15;c.play()}}else $("#timer").html("Turn \x3cb\x3e"+b+"\x3c/b\x3e, Time \x3cb\x3e"+a+"\x3c/b\x3e")},1E3))}
function onlinePlay(){socket=io();socket.on("connect",function(){});socket.on("disconnect",function(){log('\x3cb class\x3d"redMsg"\x3eDisconnected\x3c/b\x3e');$("#username").remove();$(".dynamicStyle").remove();showWinState=inGame=!1;$("#sidebar").empty();$("#container").empty();audioEnabled&&disconnectedAudio.play();socket=!1});socket.on("update user count",function(a){1==a?log('\x3cspan class\x3d"greenMsg"\x3e1 user online.\x3c/span\x3e'):log('\x3cspan class\x3d"greenMsg"\x3e'+a+" users online.\x3c/span\x3e")});
socket.on("make chat available",function(a){$("#chat").remove();$("#chatPanel").append('\x3cdiv id\x3d"chat"\x3e\x3cinput id\x3d"chatInput" type\x3d"text" maxlength\x3d"140" value\x3d"" autocomplete\x3d"off" /\x3e\x3c/div\x3e');$("#chatInput").on("keydown",function(a){13==a.keyCode&&(a=$("#chatInput").val(),$("#chatInput").val(""),$.trim(a)&&socket.emit("send chat message",a))})});socket.on("update lobby",function(a,b){$("#open").empty();$("#inprogress").empty();$("#eloRank").empty();renderLeaderboard(b);
renderGames(a)});socket.on("render lobby",function(a,b,c){player=!1;$("#lobby").remove();$("#leaderboard").remove();$("#headBoardContainer").remove();var d='\x3cdiv id\x3d"lobby"\x3e\x3ch1\x3e\x3cspan style\x3d"color:'+c.color+'"\x3e'+c.username+"\x3c/span\x3e, ";d+='welcome to Cosmic Blocks!\x3c/h1\x3e\x3cdiv style\x3d"padding:20px;"\x3e\x3cdiv id\x3d"optionButtons"\x3e';isGhost||(d+='\x3cdiv id\x3d"newgame" class\x3d"buttonStyle"\x3eCreate Game\x3c/div\x3e\x3cdiv id\x3d"randgame" class\x3d"buttonStyle"\x3eRandom Game\x3c/div\x3e\x3cdiv id\x3d"practice" class\x3d"buttonStyle"\x3ePractice Mode\x3c/div\x3e');
d+='\x3ca id\x3d"howToPlay" class\x3d"buttonStyle" href\x3d"https://docs.google.com/document/d/1c_rIYxdl2udNHXPFnHj5ELoYPjtej4hDjy7nCHnceG0/edit" target\x3d"_blank"\x3eHow to Play\x3c/a\x3e\x3ca class\x3d"buttonStyle" href\x3d"https://docs.google.com/document/d/1cIwGEWhQYZUPRn1sBzatFuVSNau3VPHxOu9ffszejU4/edit" target\x3d"_blank"\x3eDocumentation\x3c/a\x3e\x3cdiv id\x3d"toggleAudio" class\x3d"buttonStyle"\x3e'+audioButtonSVG()+"\x3c/div\x3e\x3c/div\x3e";isGhost||(d+='\x3cdiv id\x3d"playerStats"\x3e\x3c/div\x3e');
d+='\x3cdiv id\x3d"gameTypes"\x3e\x3cdiv id\x3d"open"\x3e\x3c/div\x3e\x3cdiv id\x3d"inprogress"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\t\x3cdiv id\x3d"leaderboard"\x3e\x3ch1\x3eWorld Ranking\x3c/h1\x3e\x3cdiv id\x3d"rankingContainer"\x3e\x3ctable id\x3d"eloRank"\x3e\x3c/table\x3e\x3c/div\x3e\x3c/div\x3e';$("#container").append(d);$("#newgame").on("click",function(){socket.emit("new game")});$("#randgame").on("click",function(){socket.emit("new game","random")});$("#practice").on("click",
function(){socket.emit("practice mode")});toggleAudioButton();renderLeaderboard(b);renderGames(a);isGhost||(0!==c.gamesPlayed&&(d='\x3cul id\x3d"lobbyUserData"\x3e'+('\x3cli\x3eGames Played\x3cspan class\x3d"stat"\x3e'+c.gamesPlayed+"\x3c/span\x3e\x3c/li\x3e"),0!==c.wins&&(d+='\x3cli\x3eGames Won\x3cspan class\x3d"stat"\x3e'+c.wins+"\x3c/span\x3e\x3c/li\x3e"),0!==c.draws&&(d+='\x3cli\x3eGames Drawn\x3cspan class\x3d"stat"\x3e'+c.draws+"\x3c/span\x3e\x3c/li\x3e"),0!==c.losses&&(d+='\x3cli\x3eGames Lost\x3cspan class\x3d"stat"\x3e'+
c.losses+"\x3c/span\x3e\x3c/li\x3e"),0<c.displayElo&&(d+='\x3cli\x3ePoints\x3cspan class\x3d"stat"\x3e'+c.displayElo+"\x3c/span\x3e\x3c/li\x3e"),d+="\x3c/ul\x3e",$("#playerStats").append(d)),0!==c.remainingRerolls&&($("#optionButtons").append('\x3cdiv class\x3d"buttonStyle" id\x3d"rerollColor"\x3eNew Color\x3c/div\x3e'),$("#rerollColor").on("click",function(){socket.emit("attempt color reroll")})));resizeFunction()});socket.on("ran out of rerolls",function(a){$("#rerollColor").remove()});socket.on("update lobby name color",
function(a){$(".lobbyName").css("color",a)});socket.on("remove player heading",function(){$("#playerRight").empty()});socket.on("setup game",function(a,b,c,d,e,f,h,n,q,r,l,k,g,m){inGame=!0;(function(){$("#lobby").remove();$("#leaderboard").remove();$("#container").append('\n\t\t\t\t\x3cdiv id\x3d"headBoardContainer"\x3e\n\t\t\t\t\t\x3cdiv id\x3d"gameHead"\x3e\n\t\t\t\t\t\t\x3cdiv id\x3d"playerLeft"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv id\x3d"timeRemaining"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3cdiv id\x3d"playerRight"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3cdiv id\x3d"board"\x3e\x3c/div\x3e\n\t\t\t\t\t\x3cdiv id\x3d"menuContainer"\x3e\n\t\t\t\t\t\t\x3cdiv id\x3d"menuRightContainer"\x3e\n\t\t\t\t\t\t\t\x3cdiv id\x3d"gameButtons"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\t\x3cdiv id\x3d"bottomInfo"\x3e\x3c/div\x3e\n\t\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\t\x3c/div\x3e\n\t\t\t\t\x3c/div\x3e');
buildMenu(q);$(".winState").remove();buildBoard(d,e);renderBoard(f);$(".block").addClass("nohover");blockHoverData();renderExitButton();for(var a in h)addHeading(a,h[a].username,h[a].color,h[a].displayElo);"open"==n?"practice"===m?socket.emit("ready"):"spectator"!==b&&($("#gameButtons").append('\x3cdiv class\x3d"buttonStyle notready" id\x3d"ready"\x3eReady Up\x3c/div\x3e'),$("#ready").on("click",function(){$(this).hasClass("unbound")?log('\x3cspan class\x3d"redMsg"\x3ecannot ready as spectator\x3c/span\x3e'):
$(this).hasClass("notready")?(socket.emit("ready"),$(this).html("Unready").removeClass("notready")):(socket.emit("not ready"),$(this).html("Ready Up").addClass("notready"))})):"inprogress"==n&&(global_moveCount=k,$("#timeRemaining").append('\x3cdiv id\x3d"timer"\x3eTurn \x3cb\x3e'+k+"\x3c/b\x3e, Time \x3cb\x3e"+g+"\x3c/b\x3e\x3c/div\x3e"),updateTimer(g,k));$("#gameButtons").append('\x3cdiv id\x3d"toggleAudio" class\x3d"buttonStyle"\x3e'+audioButtonSVG()+"\x3c/div\x3e");toggleAudioButton();$(".menu_block").addClass("nohover disabled")})()});
socket.on("detonate",function(){audioEnabled&&detonateAudio.play()});socket.on("time limit update",function(a){timeLimitUpdate(a)});socket.on("collision update",function(a){collisionUpdate(a)});socket.on("game preset",function(a,b,c,d,e,f,h){timeLimitUpdate(b);collisionUpdate(h);buildBoard(c,d);renderBoard(a);buildMenu(e);$(".block").addClass("nohover");you==f?menuBlockEnableDisable():$("#menu").css("opacity","0.5")});socket.on("blocklist updated",function(a,b,c){b?$("#"+a).removeClass("disabled"):
$("#"+a).addClass("disabled")});socket.on("rebuild board",function(a,b){buildBoard(a,b);log('\x3cspan class\x3d"dimMsg"\x3eNew dimensions: '+b+" x "+a+"\x3c/span\x3e");$(".block").addClass("nohover")});socket.on("kill game",function(){exitGame()});socket.on("build menu",function(a){buildMenu(a)});socket.on("add to heading",function(a,b,c,d){addHeading(a,b,c,d)});socket.on("remove from heading",function(a){$(".heading-"+a).remove();$("#ready").html("[ ] Ready").addClass("notready")});socket.on("update lobby welcome name color",
function(a){$("#lobby \x3e h1 \x3e span").css("color",a)});socket.on("all players ready",function(a,b,c,d,e,f,h){$(".block","#board").off();$("#menuContainer").off();$("#board").off();blockHoverData();if("practice"!==h)$("#gameButtons \x3e *:not('#toggleAudio')").remove();else{for(var n=0;n<priorColorList.length;n++)$(".block").removeClass(priorColorList[n]);$(".highlighted").removeClass("highlighted");$(".menu_block").addClass("disabled")}0==b&&(b="\x26infin;");0===$("#timer").length&&$("#timeRemaining").append('\x3cdiv id\x3d"timer"\x3eTurn \x3cb\x3e1\x3c/b\x3e, Time \x3cb\x3e'+
b+"\x3c/b\x3e\x3c/div\x3e");global_moveCount=1;$("#menu").css("opacity","1");audioEnabled&&newgameAudio.play();joinGame(a,global_moveCount,b,c,d,e,f,h)});socket.on("new move",function(a,b,c){global_moveCount++;$(".waitMsg").parent().remove();$(".block").removeClass("nohover").removeClass("disabled");"undefined"!==typeof c&&buildMenu(c);$(".menu_block").addClass("disabled");menuState=!1;$(".highlighted").removeClass("highlighted");0==b&&audioEnabled&&moveAudio.play();renderBoard(a);standby=!1});socket.on("victory",
function(a,b,c,d){if(0==showWinState)for(cleanup(a,d),showWinState=!0,d=0;d<a.length;d++)showPath(b[d],c)});socket.on("log",function(a,b){log(a,b)});socket.on("store id",function(a,b,c){you=a;yourName=b;ghostFlow=isGhost=c});socket.on("connect audio",function(){audioEnabled&&connectAudio.play()});socket.on("remove rematch button",function(){$("#rematch").remove();ghostFlow&&setTimeout(function(){exitGame()},3E3)});socket.on("render board",function(a){renderBoard(a)});socket.on("collision",function(){audioEnabled&&
collisionAudio.play()});socket.on("update timer",function(a,b){updateTimer(a,b)});socket.on("time out",function(a){log('\x3cspan class\x3d"dimMsg"\x3etime out\x3c/span\x3e');you!=a&&audioEnabled&&timeoutAudio.play()});socket.on("rematch offered",function(){$("#rematch \x3e span").text("Accept Rematch").addClass("blinkText")});socket.on("setup rematch",function(a,b,c){debounce=Math.random();$(".block").removeClass("nohover disabled ice");buildMenu(a);showWinState=!1;"undefined"!==typeof b&&0<b&&$("#playerLeft \x3e div \x3e span").html("("+
b+")");"undefined"!==typeof c&&0<c&&$("#playerRight \x3e div \x3e span").html("("+c+")")});socket.on("draw offered",function(a){log("Draw Offered");drawOffered(a)});socket.on("console log",function(a){console.log(a)})}$(document).ready(function(){});
$(window).on("load",function(){$("#container").append('\n\t\t\x3ch1 id\x3d"chatToggle"\x3e\x26laquo;\x3c/h1\x3e\n\t\t\x3cdiv id\x3d"chatPanel"\x3e\n\t\t\t\x3ch1\x3eChat\x3c/h1\x3e\n\t\t\t\x3cdiv id\x3d"logContainer"\x3e\n\t\t\t\t\x3cdiv id\x3d"log"\x3e\x3c/div\x3e\n\t\t\t\x3c/div\x3e\n\t\t\x3c/div\x3e ');sidebarsResize();updateStyle("nocolor","#d5ccbd");$(window).resize(function(){resizeFunction()});$("#chatToggle").on("click",function(){$("#chatPanel").is(":visible")?($("#chatPanel").hide(),$("#chatToggle").html("\x26raquo;")):
($("#chatPanel").show(),$("#chatToggle").html("\x26laquo;"));resizeFunction()});onlinePlay();console.log("hello world")});function log(a,b){500<=$(".logLine").length&&$(".logLine").first().remove();b?$("#log").append('\x3cdiv class\x3d"logLine special"\x3e'+a+"\x3c/div\x3e"):$("#log").append('\x3cdiv class\x3d"logLine"\x3e'+a+"\x3c/div\x3e");$("#logContainer").scrollTop($("#log")[0].scrollHeight)}
function audioButtonSVG(){return'\x3csvg version\x3d"1.2" baseProfile\x3d"tiny" xmlns\x3d"http://www.w3.org/2000/svg" xmlns:xlink\x3d"http://www.w3.org/1999/xlink" x\x3d"0px" y\x3d"0px" viewBox\x3d"0 0 400 400" overflow\x3d"scroll" xml:space\x3d"preserve"\x3e\x3cpath d\x3d"M159,226.5c0,11-9,20-20,20H71c-11,0-20-9-20-20V174c0-11,9-20,20-20h68c11,0,20,9,20,20V226.5z"/\x3e\x3cpath d\x3d"M75.3,189.3c-9.3,5.9-9.3,15.7,0,21.6l126.8,81.5c9.3,5.9,16.8,1.8,16.8-9.2V117c0-11-7.6-15.1-16.8-9.2L75.3,189.3z"/\x3e\x3cpath class\x3d"audioOn" fill\x3d"none" stroke\x3d"#2652AA" stroke-width\x3d"20" stroke-linecap\x3d"round" stroke-miterlimit\x3d"10" d\x3d"M314,126c0,0,90,74,0,148" /\x3e\x3ccircle class\x3d"audioOn" fill\x3d"#061059" cx\x3d"254" cy\x3d"200" r\x3d"21"/\x3e\x3cpath class\x3d"audioOn" fill\x3d"none" stroke\x3d"#123A89" stroke-width\x3d"20" stroke-linecap\x3d"round" stroke-miterlimit\x3d"10" d\x3d"M279,153c0,0,70,47,0,94"/\x3e\x3cline class\x3d"audioOff" fill\x3d"none" stroke\x3d"#890303" stroke-width\x3d"20" stroke-linecap\x3d"round" stroke-miterlimit\x3d"10" x1\x3d"249" y1\x3d"166" x2\x3d"318" y2\x3d"235"/\x3e\x3cline class\x3d"audioOff" fill\x3d"none" stroke\x3d"#890303" stroke-width\x3d"20" stroke-linecap\x3d"round" stroke-miterlimit\x3d"10" x1\x3d"318" y1\x3d"166" x2\x3d"249" y2\x3d"235"/\x3e\x3c/svg\x3e'};